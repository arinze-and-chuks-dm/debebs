---
import model from '@images/model-1.jpeg'
import { Image } from 'astro:assets'
import config from 'src/configs/site.json'
import { formatPhoneNumber, isActiveLink } from 'src/utils'
import ButtonLink from './ButtonLink.astro'
import ContactForm from './ContactForm.astro'
import Socials from './Socials.astro'

const { pathname } = Astro.url
const { navigation, copyright, contact, title } = config

---

<div>
	<section class="p-5 md:py-32 bg-stone-900 text-white mx-auto">
		<div class="flex flex-col items-center space-y-5 lg:flex-row max-w-5xl mx-auto lg:justify-around">
			<p class=" lg:text-4xl text-center">Ready to capture memories with us?</p>
			<ButtonLink className='border-white' />
		</div>
	</section>
	<section class="grid grid-cols-1 md:grid-cols-2 h-screen md:h-[80vh]">
		<Image class='hidden md:block object-cover overflow-hidden h-full w-full' src={model} alt='thing' />
		<div class=" p-5 md:w-1/2 m-auto">
			<ContactForm />
		</div>
	</section>
	<footer class="p-10 lg:py-32 lg:px-48 bg-stone-800 text-white">
		<div class="grid gap-5 grid-cols-2 md:grid-cols-6">
			<div class="col-span-2 space-y-10">
				<h3 class="italic">{title}</h3>
				<div class=" space-y-3">
					<Socials className="flex space-x-5 items-center [&>li]:w-5" />
					<span class=" text-gray-300 italic text-sm block">{copyright}</span>
				</div>
			</div>
			<div class="col-span-2 space-y-10">
				<h3>Information</h3>
				<div class=" text-gray-300 text-sm space-y-1">
					<a class="block mb-10">Dallas, TX</a>
					<a class="block" href={`mailto:${contact.email}`} set:html={contact.email} />
					<a class="block" href={`tel:${contact.phone}`}>+1 {formatPhoneNumber(contact.phone)}</a>
				</div>
			</div>
			<div class="col-span-2 space-y-10">
				<h3>Useful Links</h3>
				<ul role="list" class="list-none flex flex-col text-sm space-y-1">
					{Object.entries(navigation).map(([name, link]) => {
						const isActive = isActiveLink({ link, pathname }) 
						return <a class:list={['opacity-50', {'opacity-100 font-semibold': isActive } ]} href={link}>{name}</a>
					})}
				</ul>
			</div>
		</div>	
	</footer>
</div>